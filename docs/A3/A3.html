<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StraViz</title>
    <link href="A3.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cutive+Mono&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Red+Hat+Mono&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://threejs.org/examples/js/loaders/OBJLoader.js"></script>
    <script type="importmap">
      {
        "imports": {
          "three": "https://cdn.jsdelivr.net/npm/three@v0.149.0/build/three.module.js",
          "three/addons/": "https://cdn.jsdelivr.net/npm/three@v0.149.0/examples/jsm/"
        }
      }
    </script>
    "
</head>
<body>
    <div class="container">
        <div class="top-section">
            <h1>StraViz: Turning Workout Activities into 3D Visuals</h1>
            <h2 class = "subtitle">built by ben</h2>
        </div>
        <br><br><br>
        <div class="video-container">
            <iframe width="560" height="315" src="https://www.youtube.com/embed/U6D1GLELBj0?si=yoQx9banjJEDOK0n" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        </div>
        <p>
            I’ve been doing mountain and endurance sports for a pretty long time. I do a lot of them, but the ones I really like doing are alpine climbing and backcountry skiing. The thing about those two sports is that you can’t actually do any serious objectives unless you have a really strong foundation of fitness. Now in general, the easiest way to gain fitness for those two (especially skiing) is by running a lot. The problem with this is that <span style="color: #ff3b3b">running actually kind of sucks. </span> 
        </p>
        <div class="image-block">
            <p>
                <span style="color: #ff3b3b; font-weight: 800;">Exhibit A</span> 
                <br>

                I made <a style = "color: #ff3b8b" href="https://www.reddit.com/r/running/comments/10l54w9/comment/jr7c5ji/?context=3">this post</a> on r/running and it ended up being one of the highest engagement posts that year. Who would have thought that people in a subreddit dedicated to running would simultaneously harbour so much animosity towards it? 
                <br>
                <br>
                Me. I guessed it. <span style="font-style: oblique">Because running sucks.</span>
              
            </p>
           
            <img style="padding: 10px; height: 500px" src="assets/runningSucks.png" alt="Circuit Schematic">
        </div>
        <p>
            Ever since I made that post I’ve been thinking of different ways to make it more enjoyable. I’ve combed through the comments numerous times to see what parts about running irk people the most. The most upvoted comment definitely stands out among the rest, it’s so simple, yet somehow captures everything about the problem itself. 
        </p>
        
        <div class="callout">
            <span style="font-style: oblique">"Starting." -kongofcbus</span> 
        </div>
        <p>
        It’s so true. I know that going for a run will be great, it will be good for me, I’ll feel good after I do it, I’ll be closer to my training goals etc… But for some reason I don’t want to get off the couch. 
        <br>
        So how do I motivate myself to go do that run? That’s what StraViz is about. This is my attempt at creating an artistic solution to a physical problem. After completing iteration 1, I  have a lot of ideas for where to take it next, but for now this feels like a good place to record my progress so far. 
        </p>
        
        
        
        <p>
            The idea is to create <span style="font-style: oblique">something</span> that has the following properties

        </p>
        <div style = "margin-left: 4.5em;" >
            <ul class="spaced-list" style="color: #ff3b3b;">
            <li>Motivates me to run more</li>
            <li>Accessible when I need it</li>
            <li>Rewards me for "hard" runs</li>
            <li>Data utility (tells me something helpful)</li>
            <li>Visually appealing</li>

            </ul>
        </div>
        
                
        <p>
            I also restricted myself to making this thing exist in the physical world. There’s way too many mobile apps out there to help people run / track their running progress. Running is a physical thing, so I wanted something tangible to represent it. 


        </p>  
        
        <div class="image-block">
        
            <img src="assets/Idea_Flow.webp" style = "height: 500px" alt="Tech box">
        </div>
        <br>
        <h3> There’s an old saying that goes "If you stare at the wall long enough, it will eventually reveal something to you." 
        </h3>
        <br>
        <h2>
            In my case that saying turned out to have some substance. 
        </h2>
        
        
        <p>
            I have a wall in my apartment that was looking a bit too blank. I'm not a fan of empty walls, I like to use the square footage to its maximum potential. That’s where the idea started, I should use my runs to generate some sort of art that grows over time. I’ll be motivated to run more to fill up the empty wall space, and depending on how I generate the art, it could also tell me something about the data, maybe providing some insight into how I should structure my future training. It would at least be more interesting than scrolling through my Strava history. 
        </p>
        <br> <br> 
        <h3>So, what is it?</h3>
        
        <div class="image-block image-block-right">
            <p>It's an art project. </p>
            <img src="assets/wapta_side4.webp" alt="Tech box">
        </div>
        
        <br>
        <br> 
        <div class="horizontal-flex">
            
            <p style = "padding-top: 8.5rem">Actually, it's a data project disguised as an art project.</p>
            <div id="3d-model-container" style="width: 50%; height: 400px;">
                
            </div>
            
            <script type="module" src ="main.js"></script>
        </div>
        <br> 
        <h2>StraViz is a procedurally generated 3D representation of your outdoor activites, it looks cool, and it tells you something helpful. </h2>
        
        
       
    
            
            <div>
                <p>
                    <span style="color: #ff3b3b">Here's the user journey</span>
                </p>
                <ul style = "margin-left: 4.5em;" class="spaced-list">
                    <li>Put on an Apple watch</li>
                    <li>Go for a run, bike, ski, hike. Anything with where the coordinates will change during the workout</li>
                    <li>Make sure it's recorded by your watch</li>
                    <li>After the workout, open the StraViz app</li>
                    <li>Export your activity data as JSON</li>
                    <li>Open Blender and load the JSON script into it </li>
                    <li>Run the script to get a 3D model of your run</li>
                    <li>3D print the run</li>
                    <li>Stick the print to your wall, next to the one from the day before</li>

                </ul>
            </div>
            
            
        
        <br>    
        <h3>How does it work?</h3>
        <p>StraViz can be broken into two components, an iOS app and a Blender script. </p>
        <br><br> 

        <p>Workout data can be accessed through Apple's HealthKit API, which is much more convoluted than it should be, but it's actually really powerful. The key data points that I'm extracting for any given workout are: </p>
        <ul class="spaced-list" style = "margin-left: 4.5em;">
            <li>Heart Rate</li>
            <li>Coordinates</li>
            <li>Altitude</li>
            <li>Pace</li>
        </ul>
        <div> 
            <p>These points are the foundation for the procedural generation. The Geospatial Coordinates (Latitude & Longitude) are used to create a vertex path in a cartesian (X,Y) plane. The starting point of the run is set to (0,0) in cartesian space, and the x, y positions of the rest of the vertices are calculated in relation to the starting point. </p>
        </div>
        
        <div class="image-block ">
          
            <img src="assets/GCStoCart.png" alt="Tech box">
        </div>
        
        <div>
            <p>The altitude is calculated in the same fashion, where the starting point is set to 0, and each point after is assigned the difference between starting and current altitude. 
            </p>
            <p>
            Heart rate is normalized to a range between 0 and 10, that value is then used as the input to the meshes x,y extrusion. Basically a higher heart rate generates a wider path at that point. 
            </p>
            <p>
                The final parameter is the pace, which currently only affects the lighting of the mesh. Each sample is assigned its own point light, that point light's brightness is controlled by the pace, which is also normalized to a range between 10 - 1000, which represents the wattage of the point light. The raw sample unit is Km / min. 
            </p>
            <p>After generating the meshes the Blender script also automatically assigns materials to the text, the platform, and the path. Materials always take some tinkering to get right, but they can be easily swapped once you have a library of them. It’s not like they show up in the final prints anyway. 
            </p>
        </div>
        <h3>Examples</h3>
        <div class = "image-block">
            <img src="assets/wapta_top.webp" alt="Tech box">
        </div>
        <br>
        <div class = "image-block">
            <img src="assets/vm_top.webp" alt="Tech box">
        </div>
        <br>
        <div class = "image-block">
            <img src="assets/vm_side.webp" alt="Tech box">
        </div>
        
        <br>
        <div class = "image-block">
            <img src="assets/CityJog.jpg" alt="Tech box">
        </div>
        <br>
        <div class = "image-block">
            <img src="assets/CityJog_Side.jpg" alt="Tech box">
        </div>
        <br>
        <div class = "image-block">
            <img src="assets/Wapta_Side3.webp" alt="Tech box">
        </div>
        

        
        <br>

        <h3>
            I'll Include the Arduino code here <span style="color: #ff3b3b"></span>
        </h3>
        <h2>The other code can be found on the projects <a style = "color: #ff3b8b" href="https://github.com/SkimoBen/StraViz/tree/main">github repo</a></h2>
        
    </div>

</body>
</html>